<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Portal Escolar</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Estilos adicionales para el dashboard */
        .class-info-card {
            background: #f8f9fa;
            border-left: 4px solid #007BFF;
        }
        .task-item {
            display: flex;
            justify-content: space-between;
        }
        .task-due {
            color: #dc3545;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <header>
            <div class="profile-header">
                <img src="assets/avatars/student-default.png" alt="Estudiante" class="avatar" id="studentAvatar">
                <div>
                    <h1>Bienvenido, <span id="parentName">Padre/Madre</span></h1>
                    <p id="classInfo">Cargando informaciÃ³n...</p>
                </div>
            </div>
            <button id="logoutBtn" class="btn-logout">Cerrar SesiÃ³n</button>
        </header>

        <div class="student-info">
            <!-- Tarjeta de InformaciÃ³n del Grupo -->
            <div class="info-card class-info-card">
                <h3>ğŸ“š InformaciÃ³n del Grupo</h3>
                <p><strong>Grado:</strong> <span id="classGrade">Alumno:</span></p>
                <p><strong>Maestro(a):</strong> <span id="classTeacher">JosÃ© PÃ©rez</span></p>
                <p><strong>SalÃ³n:</strong> <span id="classRoom">A-12</span></p>
                <p><strong>Turno:</strong> <span id="classShift">Matutino</span></p>
            </div>

            <!-- Tarjeta de Calificaciones -->
            <div class="info-card">
                <h3>ğŸ“Š Calificaciones</h3>
                <ul id="gradesList">
                    <!-- Las calificaciones se cargarÃ¡n con JavaScript -->
                </ul>
            </div>

            <!-- Tarjeta de Asistencia -->
            <div class="info-card">
                <h3>âœ… Asistencia</h3>
                <div class="attendance-bar">
                    <div class="bar-fill" id="attendanceBar"></div>
                </div>
                <p id="attendanceText">Asistencia: 95%</p>
            </div>

            <!-- Tarjeta de Tareas Pendientes -->
            <div class="info-card">
                <h3>ğŸ“ Tareas Pendientes</h3>
                <ul id="tasksList">
                    <!-- Las tareas se cargarÃ¡n con JavaScript -->
                </ul>
                <div class="sep-resources">
                    <h4>Recursos SEP:</h4>
                    <a href="https://libros.conaliteg.gob.mx/primaria.html" target="_blank">
                        ğŸ“š Libros de Texto (Nueva Escuela Mexicana)
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos simulados del estudiante
        const studentData = {
            studentName: "Juan PÃ©rez",
            parentName: "Sr. PÃ©rez",
            avatar: "assets/avatars/student-juan.png",
            classInfo: {
                grade: "6Â°",
                teacher: "Karelia Medina",
                room: "6Â° B",
                shift: "Matutino"
            },
            grades: [
                { subject: "MatemÃ¡ticas", grade: 9.5 },
                { subject: "EspaÃ±ol", grade: 8.7 },
                { subject: "Ciencias", grade: 9.0 }
            ],
            attendance: 95,
            tasks: [
                { task: "Entregar ensayo sobre la RevoluciÃ³n", dueDate: "2024-05-15" },
                { task: "Proyecto de ciencias", dueDate: "2024-05-20" },
                { task: "Leer capÃ­tulo 4 de historia", dueDate: "2024-05-10" }
            ]
        };

        // Cargar datos al iniciar la pÃ¡gina
        document.addEventListener('DOMContentLoaded', function() {
            // Datos del perfil
            document.getElementById('parentName').textContent = studentData.parentName;
            document.getElementById('studentAvatar').src = studentData.avatar;
            
            // InformaciÃ³n del grupo
            document.getElementById('classGrade').textContent = studentData.classInfo.grade;
            document.getElementById('classTeacher').textContent = studentData.classInfo.teacher;
            document.getElementById('classRoom').textContent = studentData.classInfo.room;
            document.getElementById('classShift').textContent = studentData.classInfo.shift;
            document.getElementById('classInfo').textContent = 
                `${studentData.classInfo.grade} - ${studentData.classInfo.teacher}`;

            // Calificaciones
            const gradesList = document.getElementById('gradesList');
            studentData.grades.forEach(item => {
                const li = document.createElement('li');
                li.className = 'grade-item';
                li.innerHTML = `<span class="subject">${item.subject}:</span> <span class="grade">${item.grade}</span>`;
                gradesList.appendChild(li);
            });

            // Asistencia
            document.getElementById('attendanceBar').style.width = `${studentData.attendance}%`;
            document.getElementById('attendanceText').textContent = `Asistencia: ${studentData.attendance}%`;

            // Tareas
            const tasksList = document.getElementById('tasksList');
            studentData.tasks.forEach(task => {
                const li = document.createElement('li');
                li.className = 'task-item';
                
                const dueDate = new Date(task.dueDate);
                const today = new Date();
                const daysLeft = Math.ceil((dueDate - today) / (1000 * 60 * 60 * 24));
                
                li.innerHTML = `
                    <span class="task-text">ğŸ“Œ ${task.task}</span>
                    <span class="task-due ${daysLeft <= 3 ? 'urgent' : ''}">
                        ${daysLeft > 0 ? `Faltan ${daysLeft} dÃ­as` : 'Â¡Vencida!'}
                    </span>
                `;
                tasksList.appendChild(li);
            });

            // Cerrar sesiÃ³n
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if(confirm('Â¿EstÃ¡s seguro de cerrar sesiÃ³n?')) {
                    window.location.href = 'index.html';
                }
            });
        });
    </script>
</body>
</html>
